<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=PT+Sans|Source+Sans+Pro" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400i" rel="stylesheet">
<style>

    body {
        margin: 100px;
        background: url(https://www.newhdwallpapers.in/wp-content/uploads/2014/07/Latest-Blue-And-White-HD-Wallpaper.jpg) no-repeat center center fixed; 
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
    }

    .narrow-container {
        background-color: white;
        opacity: .92;
        padding-bottom: 50px;
    }

    .slidecontainer {
        padding: 2% 10%;
        width: 70%;
        
    }

    /* The slider itself */
    .slider {
        -webkit-appearance: none;  /* Override default CSS styles */
        appearance: none;
        width: 100%; /* Full-width */
        height: 25px; /* Specified height */
        background: #d3d3d3; /* Grey background */
        outline: none; /* Remove outline */
        opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
        -webkit-transition: .2s; /* 0.2 seconds transition on hover */
        transition: opacity .2s;
    }

    /* Mouse-over effects */
    .slider:hover {
        opacity: 1; /* Fully shown on mouse-over */
    }

    /* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */ 
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none; /* Override default look */
        appearance: none;
        width: 25px; /* Set a specific slider handle width */
        height: 25px; /* Slider handle height */
        background: #4CAF50; /* Green background */
        cursor: pointer; /* Cursor on hover */
    }

    .slider::-moz-range-thumb {
        width: 25px; /* Set a specific slider handle width */
        height: 25px; /* Slider handle height */
        background: #4CAF50; /* Green background */
        cursor: pointer; /* Cursor on hover */
    }

    .bodydiv {
        margin-top: 20px;
        border: none !important;
    }

    .wallpaperName {
            font-family: 'Source Sans Pro', sans-serif;
            font-size: 36px;
    }

    .attributes-header {
        text-align: center;
        font-weight: 700;
        margin-bottom: 10px;
        font-family: 'PT Sans', sans-serif;
        color: #d3d3d3;
    }

    .attribute {
        font-family: 'PT Sans', sans-serif !important;
        font-size: 14px;
        margin-top: 12px;
    }

    .wallpaperImage {
        width: 275px;
        height: 325px;
        margin-top: 20px;
    }

    .description {
        margin-top: 12px;
        font-family: 'PT Sans', sans-serif;
        font-style: italic;
    }

    .slidecontainerHeader {
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 32px;
        text-align: center;
    }

    .header {
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 48px;
        text-align: center;
    }

    .slideHelper {
        margin-bottom: 10px;
        font-family: 'PT Sans', sans-serif;
    }

    .slight-top-margin {
        margin-top: 10px;
    }

    .margin-bottom {
        margin-bottom: 10px;
    }

    .margins {
        margin: 30px 80px 30px 80px;
    }

    .top-padding {
        padding-top: 50px;
    }

</style>

</head>
<body>

    <div class="modal fade" id="modal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" id='modal-content'">
            <div class="modal-header" id='modal-header'></div>  
            </div>
        </div>      
    </div>

    <div class='narrow-container top-padding'>
    <div class='header'>Add a Wallpaper</div>
    <div class=' text-center description'>To add a wallpaper to our server, fill out the form below</div>
        <div class='form-group margins'>
            <label class='slideHelper' for='name'>Name</label>
            <input type="text" class="form-control" id="name">
        </div>
        <div class='form-group margins'>
            <label class='slideHelper' for='name'>Shopping Link</label>
            <input type="text" class="form-control" id="link">
        </div>
        <div class='form-group margins'>
            <label class='slideHelper' for='name'>Image URL</label>
            <input type="text" class="form-control" id="image">
        </div>
        <div class="form-group margins">
            <label class='slideHelper' for="comment">Description <span class='description'>(20 words or less)</span></label>
            <textarea class="form-control" rows="3" id="description"></textarea>
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Texture Strength</div>
            <div class='description text-center margin-right margin-bottom'>Smooth jazz or speed metal?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Smooth
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Rough
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="textureStrength">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Aggressiveness</div>
            <div class='description text-center margin-right margin-bottom'>A slow tour of the back nine or twelve rounds of bare knuckle boxing?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Passive
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Aggressive
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="aggression">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Playfulness</div>
            <div class='description text-center margin-right margin-bottom'>Daniel Day-Lewis or Kevin Hart?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Intense
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Playful
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="playfulness">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Activeness</div>
            <div class='description text-center margin-right margin-bottom'>Sleepy sloth or rabid squirrel?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Lethargic
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Energetic
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="activeness">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Contrast</div>
            <div class='description text-center margin-right margin-bottom'>James Bond or Carrot Top?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Slight Contrast
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Striking Contrast
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="contrast">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Geometric Integrity</div>
            <div class='description text-center margin-right margin-bottom'>Art or science?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Smooth Edges
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Sharp Corners
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="geometricIntegrity">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Pattern Strength</div>
            <div class='description text-center margin-right margin-bottom'>One for all or all for one?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Anomalous
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Repetitive
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="patternStrength">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Novelty</div>
            <div class='description text-center margin-right margin-bottom'>Living for a lifetime or living for a moment?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Standard
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Ornamental
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="novelty">
        </div>
        <div class="slidecontainer center-block">
            <div class='slidecontainerHeader'>Colorfulness</div>
            <div class='description text-center margin-right margin-bottom'>Monochromatic or a lot of chromatics?</div>
            <div class='row'>
                <div class='slideHelper text-left col-xs-6'>
                    Dull
                </div>
                <div class='slideHelper text-right col-xs-6'>
                    Vibrant
                </div>
            </div>
            <input type="range" min="1" max="100" value="0" class="slider" id="colorfulness">
        </div>
        <div class='button-container'>
            <button id='submit' class='top-margin btn btn-danger center-block' data-toggle='modal' data-target='#modal'>Add Your Wallpaper</button>
        </div>
    </div>
<script type="text/javascript">

    var errorModal = () => {

        $('#modal-header').empty();
        $('#modal-body').remove();

        var div = $("<div>");
        div.addClass('alert alert-danger slight-top-margin');
        div.text("Please fill out all fields");

        $("#modal-header").append(div);
    }

    var modal = (recommendation) => {

        console.log(recommendation)

        $('#modal-header').empty();
        $('#modal-body').remove();


        $('#modal-header').append(`<div class='wallpaperName'>${recommendation.name}</div>`)

        var div = $('<div>');
        div.addClass('bodydiv')

        var bodyDiv = $("<div>");
        bodyDiv.addClass('row');

        var leftDiv = $("<div>")
        leftDiv.addClass('col-xs-6');

        var rightDiv = $("<div>")
        rightDiv.addClass('col-xs-6 attribute');


        leftDiv.append(`<img class='wallpaperImage thumbnail center-block' src=${recommendation.sourceImage}>`)

        rightDiv.append(`<div class='attributes-header'>Scores out of 10</div>`)
        rightDiv.append(`<div class='attribute'><strong>Pattern Strength:</strong> ${recommendation.patternStrength}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Aggressiveness:</strong> ${recommendation.aggression}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Playfulness:</strong> ${recommendation.playfulness}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Contrast:</strong> ${recommendation.contrast}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Colorfulness:</strong> ${recommendation.colorfulness}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Geometric Integrity:</strong> ${recommendation.geometricIntegrity}</div>`)
        rightDiv.append(`<div class='attribute'><strong>Novelty Index:</strong> ${recommendation.novelty}</div>`)
        rightDiv.append(`<div class=description>${recommendation.description}</div>`)
        rightDiv.append(`<a href=${recommendation.link} target="_blank"><div class='attribute'>See more</div></a>`)

        div.append(leftDiv);
        div.append(rightDiv);

        $('#modal-header').append('<hr>')
        $('#modal-header').append(div);

    }

    var textured = $('#textureStrength').val()/10
    var aggression = $('#aggression').val()/10
    var playfulness = $('#playfulness').val()/10
    var activeness = $('#activeness').val()/10
    var contrast = $('#contrast').val()/10
    var geometrictIntegrity = $('#geometricIntegrity').val()/10
    var patternStrength = $('#patternStrength').val()/10
    var novelty = $('#novelty').val()/10
    var colorfulness = $('#colorfulness').val()/10

    $('#submit').on('click', function(event) {

        console.log("HI")

        event.preventDefault();

        var name = $("#name").val();
        var link = $('#link').val();
        var sourceImage = $('#image').val();
        var description= $('#description').val();

        var textured = $('#textureStrength').val()/10
        var aggression = $('#aggression').val()/10
        var playfulness = $('#playfulness').val()/10
        var activeness = $('#activeness').val()/10
        var contrast = $('#contrast').val()/10
        var geometricIntegrity = $('#geometricIntegrity').val()/10
        var patternStrength = $('#patternStrength').val()/10
        var novelty = $('#novelty').val()/10
        var colorfulness = $('#colorfulness').val()/10

        var error = false;

        if (!name || !link || !sourceImage || !description) {
            console.log('errr')
            $('#warn').text("Please fill out all fields!")
            var error = true;
            console.log(error);
            errorModal();
            return;
        }

        console.log('error')

        var error = true;


        var newWallpaper = {
            routeName: name.toLowerCase(),
            name,
            textured,
            aggression,
            playfulness,
            activeness,
            contrast,
            geometricIntegrity,
            patternStrength,
            novelty,
            colorfulness,
            description,
            sourceImage,
            link
        }

        console.log(newWallpaper)

        if (newWallpaper.name && newWallpaper.link && newWallpaper.description && newWallpaper.sourceImage) {
                $.post("/api/new", newWallpaper)
                .then(function(data) {
                console.log(data);
                console.log(newWallpaper)
            });

            modal(newWallpaper);    
        }

        
    })
</script>

</body>
</html>